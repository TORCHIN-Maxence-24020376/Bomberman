<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.bomberman.controller.ControlsEditorController"
            styleClass="controls-editor">

    <top>
        <VBox alignment="CENTER" styleClass="header">
            <padding>
                <Insets top="15" bottom="15" left="20" right="20" />
            </padding>

            <Label text="Personnalisation des controles" styleClass="view-title">
                <font>
                    <Font name="System Bold" size="18.0" />
                </font>
            </Label>
            
            <Label text="Personnaliser les touches des joueurs" styleClass="subtitle">
                <font>
                    <Font size="14.0" />
                </font>
            </Label>
        </VBox>
    </top>

    <center>
        <VBox spacing="15" alignment="CENTER" styleClass="main-content">
            <padding>
                <Insets top="20" bottom="20" left="30" right="30" />
            </padding>
            
            <!-- Selection du joueur avec boutons pour gerer les profils -->
            <HBox spacing="10" alignment="CENTER">
                <Label text="Selectionnez un joueur:" styleClass="field-label">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <ComboBox fx:id="playerCombo" prefWidth="200" />
                <Button fx:id="newProfileButton" text="Nouveau" styleClass="action-button" onAction="#createNewProfile">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Button>
                <Button fx:id="renameProfileButton" text="Renommer" styleClass="action-button" onAction="#renameProfile">
                    <font>
                        <Font size="12.0" />
                    </font>
                </Button>
            </HBox>
            
            <Separator />
            
            <!-- Grille des controles -->
            <GridPane fx:id="controlsGrid" hgap="20" vgap="15" alignment="CENTER">
                <columnConstraints>
                    <ColumnConstraints halignment="RIGHT" minWidth="80" />
                    <ColumnConstraints halignment="CENTER" minWidth="80" />
                </columnConstraints>
                
                <!-- Les lignes seront ajoutees dynamiquement -->
                
                <!-- Haut -->
                <Label text="Haut:" styleClass="control-label" GridPane.rowIndex="0" GridPane.columnIndex="0">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <Button fx:id="upButton" text="Z" styleClass="key-button" prefWidth="60" prefHeight="40"
                        GridPane.rowIndex="0" GridPane.columnIndex="1" />
                
                <!-- Bas -->
                <Label text="Bas:" styleClass="control-label" GridPane.rowIndex="1" GridPane.columnIndex="0">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <Button fx:id="downButton" text="S" styleClass="key-button" prefWidth="60" prefHeight="40"
                        GridPane.rowIndex="1" GridPane.columnIndex="1" />
                
                <!-- Gauche -->
                <Label text="Gauche:" styleClass="control-label" GridPane.rowIndex="2" GridPane.columnIndex="0">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <Button fx:id="leftButton" text="Q" styleClass="key-button" prefWidth="60" prefHeight="40"
                        GridPane.rowIndex="2" GridPane.columnIndex="1" />
                
                <!-- Droite -->
                <Label text="Droite:" styleClass="control-label" GridPane.rowIndex="3" GridPane.columnIndex="0">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <Button fx:id="rightButton" text="D" styleClass="key-button" prefWidth="60" prefHeight="40"
                        GridPane.rowIndex="3" GridPane.columnIndex="1" />
                
                <!-- Bombe -->
                <Label text="Bombe:" styleClass="control-label" GridPane.rowIndex="4" GridPane.columnIndex="0">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <Button fx:id="bombButton" text="ESPACE" styleClass="key-button" prefWidth="60" prefHeight="40"
                        GridPane.rowIndex="4" GridPane.columnIndex="1" />
                
                <!-- Special -->
                <Label text="Special:" styleClass="control-label" GridPane.rowIndex="5" GridPane.columnIndex="0">
                    <font>
                        <Font name="System Bold" size="14.0" />
                    </font>
                </Label>
                <Button fx:id="specialButton" text="E" styleClass="key-button" prefWidth="60" prefHeight="40"
                        GridPane.rowIndex="5" GridPane.columnIndex="1" />
            </GridPane>
            
            <Button fx:id="resetButton" text="Reinitialiser les controles" styleClass="warning-button"
                    onAction="#resetControls">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Button>
        </VBox>
    </center>
    
    <bottom>
        <HBox spacing="15" alignment="CENTER" styleClass="button-bar">
            <padding>
                <Insets top="15" bottom="15" left="20" right="20" />
            </padding>
            
            <Button fx:id="saveButton" text="Sauvegarder" styleClass="primary-button" onAction="#saveControls"
                    prefWidth="120" prefHeight="40">
                <font>
                    <Font name="System Bold" size="14.0" />
                </font>
            </Button>
            
            <Button fx:id="cancelButton" text="Annuler" styleClass="secondary-button" onAction="#cancel"
                    prefWidth="120" prefHeight="40">
                <font>
                    <Font size="14.0" />
                </font>
            </Button>
        </HBox>
    </bottom>

</BorderPane> 